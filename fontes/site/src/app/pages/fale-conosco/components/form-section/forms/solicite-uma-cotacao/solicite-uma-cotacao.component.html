<form [formGroup]="soliciteUmaCotacaoForm">
    <div class="columns flex-wrap has-negative-margin">

        <div class="column is-full is-4-desktop display-flex">
            <label class="align-self-center">
                Qual(is) plano(s) ou produto(s) deseja cotar?
            </label>
        </div>

        <div class="column is-full is-8-desktop">
            <div class="columns flex-wrap">
                <div class="column is-full is-6 is-paddingless-vertical">
                    <div class="field">
                        <div class="control">
                            <input formControlName="planoSaude" (change)="updateFormValidation()"
                                [ngClass]="{ 'is-invalid' : form?.planoSaude?.errors }" class="checkbox"
                                id="plano-saude" type="checkbox" name="plano">
                            <label class="checkbox-label" for="plano-saude">
                                Plano de Saúde
                            </label>
                        </div>
                    </div>
                </div>
                <div class="column is-full is-6 is-paddingless-vertical">
                    <div class="field">
                        <div class="control">
                            <input formControlName="planoOdontologico" (change)="updateFormValidation()"
                                [ngClass]="{ 'is-invalid' : form?.planoOdontologico?.errors }" class="checkbox"
                                id="plano-odontologico" type="checkbox" name="plano">
                            <label class="checkbox-label" for="plano-odontologico">
                                Plano Odontológico
                            </label>
                        </div>
                    </div>
                </div>
                <div class="column is-full is-6 is-paddingless-vertical">
                    <div class="field">
                        <div class="control">
                            <input formControlName="medicinaOcupacional"
                                [ngClass]="{ 'is-invalid' : form?.medicinaOcupacional?.errors }" class="checkbox"
                                id="medicina-ocupacional" type="checkbox" name="plano">
                            <label class="checkbox-label" for="medicina-ocupacional">
                                Medicina Ocupacional
                            </label>
                        </div>
                    </div>
                </div>
                <div class="columns is-12">
                    <div class="field">
                        <div *ngIf="soliciteUmaCotacaoForm.touched && soliciteUmaCotacaoForm?.errors?.requireAtLeastOne"
                            class="errors">
                            <p class="help is-danger">
                                Ao menos um plano deve ser selecionado
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="column is-full is-4-desktop" *ngIf="form.planoSaude.value || form.planoOdontologico.value">
            <label>
                Qual o tamanho da sua empresa?
            </label>
        </div>

        <div class="column is-full is-8-desktop" *ngIf="form.planoSaude.value || form.planoOdontologico.value">
            <app-dropdown [options]="dropDownItems" [default]="defaultItem" [canUnselect]="false"
                (setFilter)="selectPlan($event)">
            </app-dropdown>
            <div class="field">
                <div *ngIf="form.plano.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.plano)" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.nome.errors, 'is-invalid' : form.nome.dirty && form.nome.errors, 'is-touched': form.nome.value.length > 0 }"
                        class="input" formControlName="nome" type="text">
                    <label class="label">Nome completo *</label>
                </p>
                <div *ngIf="form.nome.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.nome)" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.email.errors, 'is-invalid' : form.email.dirty && form.email.errors, 'is-touched': form.email.value.length > 0 }"
                        class="input" formControlName="email" type="text">
                    <label class="label">E-mail *</label>
                </p>
                <div *ngIf="form.email.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.email)" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.telefone.errors, 'is-invalid' : form.telefone.dirty && form.telefone.errors, 'is-touched': form.telefone.value.length > 0 }"
                        class="input" formControlName="telefone" type="tel"
                        [mask]="form.telefone?.value?.length > 10 ? '(00) 00000-0000' : '(00) 0000-00000'"
                        [validation]="false">
                    <label class="label">Telefone *</label>
                </p>
                <div *ngIf="form.telefone.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.telefone)" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.cpf.errors, 'is-invalid' : form.cpf.dirty && form.cpf.errors, 'is-touched': form.cpf.value.length > 0 }"
                        mask="000.000.000-00" [validation]="false" class="input" formControlName="cpf" type="tel">
                    <label class="label">CPF *</label>
                </p>
                <div *ngIf="form.cpf.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.cpf, 'CPF')" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.cnpj.errors, 'is-invalid' : form.cnpj.dirty && form.cnpj.errors, 'is-touched': form.cnpj.value.length > 0 }"
                        mask="00.000.000/0000-00" [validation]="false" class="input" formControlName="cnpj" type="tel">
                    <label class="label">CNPJ *</label>
                </p>
                <div *ngIf="form.cnpj.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.cnpj, 'CNPJ')" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full is-6-desktop">
            <div class="field">
                <p class="control">
                    <input
                        [ngClass]="{ 'is-valid': !form.razaoSocial.errors, 'is-invalid' : form.razaoSocial.dirty && form.razaoSocial.errors, 'is-touched': form.razaoSocial.value.length > 0 }"
                        class="input" formControlName="razaoSocial" type="text">
                    <label class="label">Razão social *</label>
                </p>
                <div *ngIf="form.razaoSocial.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.razaoSocial)" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full">
            <div class="field">
                <p class="control">
                    <textarea name="mensagem" cols="30" rows="10"
                        [ngClass]="{ 'is-valid': !form.mensagem.errors, 'is-invalid' : form.mensagem.dirty && form.mensagem.errors, 'is-touched': form.mensagem.value.length > 0 }"
                        class="textarea" formControlName="mensagem" placeholder="Mensagem *"></textarea>
                </p>
                <div *ngIf="form.mensagem.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.mensagem, 'Mensagem')" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-6-desktop is-full-touch is-offset-6-desktop">
            <div id="captcha_element_solicite_uma_cotacao"></div>
            <div class="field">
                <div *ngIf="form.validCaptcha.touched" class="errors">
                    <p *ngFor="let error of getErrors(form.validCaptcha, 'Captcha')" class="help is-danger">
                        {{error}}
                    </p>
                </div>
            </div>
        </div>

        <div class="column is-full">
            <button class="btn btn-digital-cian secondary medium is-hidden-touch right" (click)="sendForm()">
                ENVIAR
            </button>

            <button class="btn btn-digital-cian tertiary arrow-right medium is-hidden-desktop" (click)="sendForm()">
                ENVIAR
            </button>
        </div>
    </div>

</form>