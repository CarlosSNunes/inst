<section id="our-disponible-vacancies">
    <article>
        <div class="container">
            <div class="columns flex-wrap">
                <div class="column is-full is-6-desktop">
                    <p class="small-title">
                        Nossas Vagas disponíveis
                    </p>
                    <h4 class="big-title">
                        Se identificou com a Care Plus e quer fazer parte do nosso time?
                    </h4>
                </div>
                <div class="column is-full is-6-desktop has-line">
                    <p class="description no-margin">
                        Aqui você consegue visualizar todas as vagas que nós temos e aberto.
                    </p>
                    <p class="sub-description">
                        Você pode filtrar pela sua área de interesse ou realizar uma buscar pelo nome da vaga ou área de
                        atuação.
                    </p>
                </div>
            </div>
        </div>
    </article>
</section>

<section id="a-careplus-vacancies-filters">
    <article>
        <div class="container">
            <div class="columns">
                <div class="column filter-box">
                    <div class="filters">
                        <form [formGroup]="filterForm">
                            <div class="columns">
                                <div class="column is-3-desktop is-full">
                                    <p class="filter-label">
                                        Encontre sua vaga
                                    </p>
                                </div>
                                <div class="column is-4 -desktop is-full">
                                    <app-dropdown [options]="dropDownOptions" [default]="{ key: 'Todas', value: 'all' }"
                                        (setFilter)="changeCategory($event);"></app-dropdown>
                                </div>
                                <div class="column is-3-desktop is-full">
                                    <div class="field">
                                        <p class="control has-icons-right">
                                            <input [ngClass]="{ 'is-touched': form.search.value?.length > 0 }"
                                                class="input" formControlName="search" name="search" type="text"
                                                (keyup)="filter()">
                                            <label class="label">Buscar</label>
                                            <span class="icon is-small is-right has-tooltip-left"
                                                data-tooltip="Digite aqui o nome do documento que deseja pesquisar">
                                                <img src="assets/svg/search.svg" alt="">
                                            </span>
                                        </p>
                                        <div *ngIf="form.search.touched && getErrors(form.search).length > 0"
                                            class="errors">
                                            <p *ngFor="let error of getErrors(form.search)" class="help is-danger">
                                                {{error}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="column is-2-desktop is-full buttons-form">
                                    <button class="btn btn-primary medium is-hidden-touch" (click)="filter()">
                                        Filtrar
                                    </button>
                                    <button class="btn btn-text small is-hidden-desktop" (click)="filter()">
                                        Filtrar
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="columns">
                <div class="column">
                    <div class="list-vacations">
                        <div class="list-head">
                            <h4 class="big-title">
                                {{selectedCategory?.key}}
                            </h4>
                        </div>
                        <ul class="vacancies">
                            <li class="vacancy" *ngFor="let vacancy of vacancies">
                                <p class="description no-margin">
                                    {{vacancy.title}}
                                </p>
                                <p class="sub-description">
                                    {{vacancy.description}}
                                </p>
                                <p class="sub-description">
                                    {{vacancy.location}}
                                </p>

                                <a [routerLink]="[vacancy.button.link]"
                                    class="btn btn-secondary medium is-hidden-touch">
                                    {{vacancy.button.title}}
                                </a>

                                <a [routerLink]="[vacancy.button.link]" class="btn btn-text small is-hidden-desktop">
                                    {{vacancy.button.title}}

                                    <svg width="18" height="14" viewBox="0 0 18 14" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M11.3492 0.938082C11.1433 1.24975 11.187 1.70309 11.4477 1.94993L13.2895 3.69461L15.7088 6.28211L0.600826 6.28211C0.268769 6.28211 -2.39681e-07 6.60482 -2.25521e-07 7.00246C-2.11362e-07 7.40009 0.268769 7.7228 0.600826 7.7228L15.5578 7.7228L11.3604 12.0703C11.1097 12.3297 11.0812 12.7849 11.2983 13.086C11.5154 13.3871 11.8947 13.4203 12.1459 13.16L17.6218 7.48797C17.7528 7.35254 17.8285 7.15613 17.8301 6.94867C17.8301 6.94675 17.8301 6.94483 17.8301 6.94291C17.8301 6.73737 17.7572 6.54191 17.6294 6.40553L14.0621 2.592L12.1932 0.819944C11.9328 0.573104 11.5551 0.625931 11.3492 0.938082Z"
                                            fill="#0079C8" />
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </article>
</section>