<section id="see-dates" [ngClass]="backgroundColorClass">
    <article>
        <div class="container">
            <div class="columns">
                <div class="column">
                    <h4 class="big-title">
                        Consulte as datas e disponibilidade de horários
                    </h4>
                </div>
            </div>
            <div class="columns flex-wrap">
                <div class="column is-5-desktop is-full">
                    <mat-form-field>
                        <input matInput [min]="minDate" placeholder="Data" [satDatepicker]="picker3" value=""
                            (dateChange)="onDate($event)" >
                        <sat-datepicker #picker3>
                        </sat-datepicker>
                        <sat-datepicker-toggle matSuffix [for]="picker3">
                            <mat-icon svgIcon="datepickerCustom" matDatepickerToggleIcon></mat-icon>
                        </sat-datepicker-toggle>
                    </mat-form-field>

                    <p class="schedule-description">
                        Você não precisa agendar para ser atendido. O atendimento acontece por ordem de chegada. <br />
                        <strong>Ligue antes para confirmar os horários.</strong>
                    </p>
                </div>

                <div class="column is-7-desktop is-full consult-infos">
                    <div class="loading" *ngIf="loading">
                        <div class="loading__circle"></div>
                        <div class="loading__circle"></div>
                        <div class="loading__circle"></div>
                    </div>

                    <ul class="units" *ngIf="!loading">
                        <li class="unity" *ngFor="let unity of units" [class.closed]="unity?.fechada">
                            <div class="unity-header column is-7">
                                <p class="title is-marginless">
                                    {{unity?.nome}}
                                </p>
                                <p class="sub-description no-margin is-hidden-touch">
                                    {{unity?.descricao}}
                                </p>
                            </div>
                            <div class="column is-5 heading-buttons" [class.display-flex]="unity?.fechada">
                                <a *ngIf="!unity.fechada" [href]="'#'+ unity?.id"
                                    class="btn btn-text small acc-heading">
                                    VER HORÁRIOS
                                    <svg width="18" height="14" viewBox="0 0 18 14" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M11.3492 0.938082C11.1433 1.24975 11.187 1.70309 11.4477 1.94993L13.2895 3.69461L15.7088 6.28211L0.600826 6.28211C0.268769 6.28211 -2.39681e-07 6.60482 -2.25521e-07 7.00246C-2.11362e-07 7.40009 0.268769 7.7228 0.600826 7.7228L15.5578 7.7228L11.3604 12.0703C11.1097 12.3297 11.0812 12.7849 11.2983 13.086C11.5154 13.3871 11.8947 13.4203 12.1459 13.16L17.6218 7.48797C17.7528 7.35254 17.8285 7.15613 17.8301 6.94867C17.8301 6.94675 17.8301 6.94483 17.8301 6.94291C17.8301 6.73737 17.7572 6.54191 17.6294 6.40553L14.0621 2.592L12.1932 0.819944C11.9328 0.573104 11.5551 0.625931 11.3492 0.938082Z"
                                            fill="#0079C8" />
                                    </svg>
                                </a>
                                <a *ngIf="!unity.fechada" [href]="'tel:'+ unity?.telefoneSemFormatacao"
                                    class="btn btn-phone blue-background-color">
                                    <span>
                                        <img src="assets/svg/phone-digital-cian.svg" alt="Telefone Unidade Cenu">
                                    </span>
                                    <span class="text">
                                        {{unity?.telefone}}
                                    </span>
                                </a>

                                <p *ngIf="unity?.fechada" class="is-closed">
                                    FECHADO
                                </p>

                            </div>
                            <div class="collapse-content acc-content" [attr.id]="unity?.id">
                                <div class="unity-infos column is-4-desktop is-full">
                                    <p class="sub-description address-title no-margin">
                                        Endereço
                                    </p>

                                    <p class="sub-description address-description no-margin small">
                                        {{unity?.endereco?.endereco}}
                                    </p>
                                </div>
                                <div class="unity-infos column is-4-desktop is-full">
                                    <p class="sub-description address-title no-margin">
                                        Bairro
                                    </p>

                                    <p class="sub-description address-description no-margin small">
                                        {{unity?.endereco?.bairro}}
                                    </p>
                                </div>
                                <div class="unity-infos column is-4-desktop is-full">
                                    <p class="sub-description address-title no-margin">
                                        Município
                                    </p>

                                    <p class="sub-description address-description no-margin small">
                                        {{unity?.endereco?.municipio}}
                                    </p>
                                </div>
                                <div class="unity-infos column is-4-desktop is-full" *ngFor="let periodo of unity?.periodos">
                                    <p class="sub-description address-description disponible-hour no-margin bold">
                                        {{periodo?.nome}}: {{periodo?.descricaoHoras}}
                                    </p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </article>
</section>