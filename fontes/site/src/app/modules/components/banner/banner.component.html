<section class="section home-banner no-margin">
    <div class="carousel" id="carousel-banner">
        <div class="stepper" *ngIf="banners.length > 0">
            <div class="play-carrousel">
                <div class="play" (click)="toggleBannerPercentage()" [class.stopped]="stopped">
                    <svg id="svg" width="34" height="34" viewPort="0 0 17 17" version="1.1"
                        xmlns="http://www.w3.org/2000/svg">
                        <circle cx="17" cy="17" r="15" fill="transparent" stroke-dasharray="94" stroke-dashoffset="0">
                        </circle>
                        <circle #circlePercentage id="bar" cx="17" cy="17" r="15" stroke="#F1EFEB" fill="transparent"
                            stroke-dasharray="94" stroke-dashoffset="0"></circle>
                    </svg>
                </div>
                <ul class="steps">
                    <li class="step" *ngFor="let banner of banners; let i = index;" [class.active]="banner.slideAtual"
                        (click)="setCurrentSlide(i)">

                    </li>
                </ul>
            </div>
        </div>
        <div *ngFor="let banner of banners" class="item"
            [ngStyle]="{ 'background-image': 'url(' + banner?.caminhoImagem + ') '}"
            [ngClass]="[banner?.firstInteraction ? 'firstInteraction' :  '', banner?.slideAtual ? 'active' : '']"
            >

            <div class="container breadcrumb-container" *ngIf="breadcrumbs && breadcrumbs?.length > 0">
                <div class="columns breadcrumb">
                    <div class="column is-paddingless-vertical">
                        <app-breadcrumb [breadcrumbs]="breadcrumbs"></app-breadcrumb>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="columns">
                    <div class="column is-6 banner-home-description">
                        <h3 *ngIf="banner?.titulo" class="banner-title">
                            {{ banner.titulo }}
                        </h3>
                        <p *ngIf="banner?.descricao" class="banner-content">
                            {{ banner.descricao }}
                        </p>

                        <!-- Button with routerLink -->
                        <a *ngIf="banner?.rota" [routerLink]="banner?.rota" class="btn btn-digital-cian medium">
                            Saiba mais
                        </a>

                        <!-- Button with routerLink -->
                        <a *ngIf="banner?.linkExterno" [href]="banner?.linkExterno" target="_blank"
                            class="btn btn-digital-cian medium">
                            Saiba mais
                        </a>
                    </div>
                </div>
            </div>

            <img *ngIf="hasAnchor" class="mouse-icon" src="assets/svg/mouse.svg" (click)="slideToNextElement.emit()" alt="Mouse Down">
        </div>
    </div>
</section>